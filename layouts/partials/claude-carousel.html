<style>
.carousel-wrapper {
    max-width: 1200px;
    width: 100%;
    margin: 3rem auto;
    text-align: center;
}

.carousel-title {
    color: #333;
    margin-bottom: 1rem;
    font-size: 1.8rem;
}

.carousel-subtitle {
    color: #666;
    margin-bottom: 2rem;
    font-size: 1rem;
}

.scene {
    width: 100%;
    height: 500px;
    perspective: 1200px;
    position: relative;
    margin: 0 auto;
}

.carousel {
    width: 100%;
    height: 100%;
    position: absolute;
    transform-style: preserve-3d;
    transition: transform 1s ease-in-out;
}

.carousel-card {
    position: absolute;
    width: 450px;
    height: 380px;
    left: 50%;
    top: 50%;
    margin-left: -225px;
    margin-top: -190px;
    background: white;
    border-radius: 15px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
}

.carousel-card:hover {
    box-shadow: 0 25px 80px rgba(0,0,0,0.4);
    transform: scale(1.02);
}

.card-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 20px;
    color: white;
    font-weight: bold;
    font-size: 1.2rem;
}

.card-content {
    padding: 25px;
    text-align: left;
    height: 300px;
    overflow-y: auto;
    background: #fafafa;
}

.card-content h3 {
    color: #667eea;
    margin-bottom: 10px;
    font-size: 1rem;
}

.card-content p {
    color: #555;
    line-height: 1.6;
    margin-bottom: 15px;
    font-size: 0.95rem;
}

.card-tag {
    display: inline-block;
    background: #764ba2;
    color: white;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 0.8rem;
    margin-right: 8px;
    margin-top: 8px;
}

.controls {
    margin-top: 3rem;
    display: flex;
    gap: 20px;
    justify-content: center;
    align-items: center;
}

.carousel-btn {
    background: white;
    border: 2px solid #667eea;
    padding: 12px 25px;
    border-radius: 50px;
    font-size: 1rem;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    font-weight: bold;
    color: #667eea;
}

.carousel-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.2);
    background: #667eea;
    color: white;
}

.carousel-btn:active {
    transform: translateY(0);
}

.indicator {
    color: #667eea;
    font-size: 1rem;
    font-weight: bold;
    min-width: 80px;
}

@media (max-width: 768px) {
    .scene {
        height: 450px;
    }

    .carousel-card {
        width: 350px;
        height: 320px;
        margin-left: -175px;
        margin-top: -160px;
    }

    .card-content {
        height: 240px;
        padding: 15px;
    }

    .carousel-title {
        font-size: 1.4rem;
    }
}
</style>

<div class="carousel-wrapper">
    <h2 class="carousel-title">üé≠ Character Development Journey</h2>
    <p class="carousel-subtitle">Snapshots of the conversation with Claude during character creation</p>

    <div class="scene">
        <div class="carousel" id="claude-carousel">
            <!-- Card 1 -->
            <div class="carousel-card">
                <div class="card-header">Phase 1: Initial Concept</div>
                <div class="card-content">
                    <h3>Character Brainstorming</h3>
                    <p>Discussion about base archetypes and how to create characters that connect organically at a 1926 Christmas party.</p>
                    <p><strong>Claude suggested:</strong> Start with motivations, then build the secret relationships.</p>
                    <div>
                        <span class="card-tag">characters</span>
                        <span class="card-tag">concept</span>
                        <span class="card-tag">1926</span>
                    </div>
                </div>
            </div>

            <!-- Card 2 -->
            <div class="carousel-card">
                <div class="card-header">Phase 2: Relationships & Secrets</div>
                <div class="card-content">
                    <h3>Web of Connections</h3>
                    <p>Creating secret relationships between characters. Each needed at least 3 connections with others.</p>
                    <p><strong>Challenge:</strong> Maintain coherence across all backstories without contradictions.</p>
                    <div>
                        <span class="card-tag">relationships</span>
                        <span class="card-tag">plot-threads</span>
                        <span class="card-tag">secrets</span>
                    </div>
                </div>
            </div>

            <!-- Card 3 -->
            <div class="carousel-card">
                <div class="card-header">Phase 3: Consistency Review</div>
                <div class="card-content">
                    <h3>Cross-Analysis</h3>
                    <p>Claude analyzed all 11 backstories simultaneously to identify temporal and logical inconsistencies.</p>
                    <p><strong>Result:</strong> Found 7 conflicts that were resolved before final production.</p>
                    <div>
                        <span class="card-tag">analysis</span>
                        <span class="card-tag">debugging</span>
                        <span class="card-tag">consistency</span>
                    </div>
                </div>
            </div>

            <!-- Card 4 -->
            <div class="carousel-card">
                <div class="card-header">Phase 4: Secret Objectives</div>
                <div class="card-content">
                    <h3>Hidden Motivations</h3>
                    <p>Each character needed objectives that would create tension and drama during gameplay.</p>
                    <p><strong>Claude helped:</strong> Balance competitive and collaborative objectives to keep everyone engaged.</p>
                    <div>
                        <span class="card-tag">objectives</span>
                        <span class="card-tag">gameplay</span>
                        <span class="card-tag">drama</span>
                    </div>
                </div>
            </div>

            <!-- Card 5 -->
            <div class="carousel-card">
                <div class="card-header">Phase 5: Final Iterations</div>
                <div class="card-content">
                    <h3>Refinement</h3>
                    <p>Multiple rounds of feedback and adjustments. Some characters completely changed direction.</p>
                    <p><strong>Learning:</strong> AI as creative collaborator works best with rapid iterations.</p>
                    <div>
                        <span class="card-tag">iteration</span>
                        <span class="card-tag">refinement</span>
                        <span class="card-tag">final</span>
                    </div>
                </div>
            </div>

            <!-- Card 6 -->
            <div class="carousel-card">
                <div class="card-header">Phase 6: Character Sheets</div>
                <div class="card-content">
                    <h3>Final Documentation</h3>
                    <p>Transform all conversations into structured character sheets for each player.</p>
                    <p><strong>Format:</strong> Backstory + relationships + objectives + secret information.</p>
                    <div>
                        <span class="card-tag">documentation</span>
                        <span class="card-tag">structure</span>
                        <span class="card-tag">game-ready</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="controls">
        <button class="carousel-btn" id="prev-claude">‚Üê Previous</button>
        <div class="indicator">
            <span id="current-claude">1</span> / <span id="total-claude">6</span>
        </div>
        <button class="carousel-btn" id="next-claude">Next ‚Üí</button>
    </div>
</div>

<script>
(function() {
    const carousel = document.getElementById('claude-carousel');
    const cards = document.querySelectorAll('#claude-carousel .carousel-card');
    const prevBtn = document.getElementById('prev-claude');
    const nextBtn = document.getElementById('next-claude');
    const currentSpan = document.getElementById('current-claude');
    const totalSpan = document.getElementById('total-claude');
    
    const totalCards = cards.length;
    let currentRotation = 0;
    let currentIndex = 0;
    
    // Calculate angle and distance
    const theta = 360 / totalCards;
    const radius = Math.round((450 / 2) / Math.tan(Math.PI / totalCards));
    
    // Position cards initially
    cards.forEach((card, i) => {
        const angle = theta * i;
        card.style.transform = `rotateY(${angle}deg) translateZ(${radius}px)`;
    });
    
    totalSpan.textContent = totalCards;
    
    function rotateCarousel(direction) {
        if (direction === 'next') {
            currentRotation -= theta;
            currentIndex = (currentIndex + 1) % totalCards;
        } else {
            currentRotation += theta;
            currentIndex = (currentIndex - 1 + totalCards) % totalCards;
        }
        
        carousel.style.transform = `rotateY(${currentRotation}deg)`;
        currentSpan.textContent = currentIndex + 1;
    }
    
    nextBtn.addEventListener('click', () => rotateCarousel('next'));
    prevBtn.addEventListener('click', () => rotateCarousel('prev'));
    
    // Keyboard controls
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') rotateCarousel('prev');
        if (e.key === 'ArrowRight') rotateCarousel('next');
    });
    
    // Click on cards
    cards.forEach((card, index) => {
        card.addEventListener('click', () => {
            const diff = index - currentIndex;
            if (diff !== 0) {
                const direction = diff > 0 ? 'next' : 'prev';
                for (let i = 0; i < Math.abs(diff); i++) {
                    setTimeout(() => rotateCarousel(direction), i * 200);
                }
            }
        });
    });
})();
</script>
